<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"><link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="/favicons/favicon.ico"><meta name="msapplication-TileColor" content="#2b5797"><meta name="msapplication-config" content="/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><title>CAN | ThingSet</title><meta name="description" content="The Data Accessibility Framework"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.23">
    <link rel="preload" href="/branch/can-packetization-rework/assets/js/runtime~app.21595170.js" as="script"><link rel="preload" href="/branch/can-packetization-rework/assets/css/styles.a9ee4913.css" as="style"><link rel="preload" href="/branch/can-packetization-rework/assets/js/9296.89757b8c.js" as="script"><link rel="preload" href="/branch/can-packetization-rework/assets/js/app.707d249a.js" as="script">
    <link rel="stylesheet" href="/branch/can-packetization-rework/assets/css/styles.a9ee4913.css">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/branch/can-packetization-rework/" class=""><img class="logo" src="/branch/can-packetization-rework/images/thingset-logo.png" alt="ThingSet"><span class="site-name can-hide">ThingSet</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/node_library" class="nav-link" aria-label="Node Library"><!--[--><!--]--> Node Library <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/zephyr_sdk" class="nav-link" aria-label="SDK for Zephyr"><!--[--><!--]--> SDK for Zephyr <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/app" class="nav-link" aria-label="Mobile App"><!--[--><!--]--> Mobile App <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.6/introduction/abstract" class="nav-link" aria-label="v0.6"><!--[--><!--]--> v0.6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.5/introduction" class="nav-link" aria-label="v0.5"><!--[--><!--]--> v0.5 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.4/introduction" class="nav-link" aria-label="v0.4"><!--[--><!--]--> v0.4 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.3/1a_introduction" class="nav-link" aria-label="v0.3"><!--[--><!--]--> v0.3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.2/1a_introduction" class="nav-link" aria-label="v0.2"><!--[--><!--]--> v0.2 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.1/" class="nav-link" aria-label="v0.1"><!--[--><!--]--> v0.1 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/changelog" class="nav-link" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/node_library" class="nav-link" aria-label="Node Library"><!--[--><!--]--> Node Library <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/zephyr_sdk" class="nav-link" aria-label="SDK for Zephyr"><!--[--><!--]--> SDK for Zephyr <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/app" class="nav-link" aria-label="Mobile App"><!--[--><!--]--> Mobile App <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.6/introduction/abstract" class="nav-link" aria-label="v0.6"><!--[--><!--]--> v0.6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.5/introduction" class="nav-link" aria-label="v0.5"><!--[--><!--]--> v0.5 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.4/introduction" class="nav-link" aria-label="v0.4"><!--[--><!--]--> v0.4 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.3/1a_introduction" class="nav-link" aria-label="v0.3"><!--[--><!--]--> v0.3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.2/1a_introduction" class="nav-link" aria-label="v0.2"><!--[--><!--]--> v0.2 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.1/" class="nav-link" aria-label="v0.1"><!--[--><!--]--> v0.1 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/changelog" class="nav-link" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Why ThingSet?</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/introduction.html" class="nav-link sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/existing_solutions.html" class="nav-link sidebar-item" aria-label="Existing Solutions"><!--[--><!--]--> Existing Solutions <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Application Layer</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/appl_general_concept.html" class="nav-link sidebar-item" aria-label="General Concept"><!--[--><!--]--> General Concept <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/appl_data_structure.html" class="nav-link sidebar-item" aria-label="Data Structure"><!--[--><!--]--> Data Structure <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/appl_access_functions.html" class="nav-link sidebar-item" aria-label="Access Functions"><!--[--><!--]--> Access Functions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/appl_text_mode.html" class="nav-link sidebar-item" aria-label="Text Mode"><!--[--><!--]--> Text Mode <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/appl_binary_mode.html" class="nav-link sidebar-item" aria-label="Binary Mode"><!--[--><!--]--> Binary Mode <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">Transport Layers</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/transp_serial.html" class="nav-link sidebar-item" aria-label="Serial"><!--[--><!--]--> Serial <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/transp_websocket.html" class="nav-link sidebar-item" aria-label="WebSocket"><!--[--><!--]--> WebSocket <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.5/transp_can.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="CAN"><!--[--><!--]--> CAN <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.5/transp_can.html#general-features" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="General features"><!--[--><!--]--> General features <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.5/transp_can.html#request-response" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Request/response"><!--[--><!--]--> Request/response <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.5/transp_can.html#publish-subscribe" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Publish/subscribe"><!--[--><!--]--> Publish/subscribe <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.5/transp_can.html#network-management" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Network management"><!--[--><!--]--> Network management <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.5/transp_can.html#physical-layer" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Physical layer"><!--[--><!--]--> Physical layer <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/transp_lorawan.html" class="nav-link sidebar-item" aria-label="LoRaWAN"><!--[--><!--]--> LoRaWAN <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/transp_ble.html" class="nav-link sidebar-item" aria-label="BLE"><!--[--><!--]--> BLE <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Protocol Mapping</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/mapping_http.html" class="nav-link sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/mapping_coap.html" class="nav-link sidebar-item" aria-label="CoAP"><!--[--><!--]--> CoAP <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/mapping_mqtt.html" class="nav-link sidebar-item" aria-label="MQTT"><!--[--><!--]--> MQTT <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Tools</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/tools_serial.html" class="nav-link sidebar-item" aria-label="Serial"><!--[--><!--]--> Serial <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.5/tools_can.html" class="nav-link sidebar-item" aria-label="CAN bus"><!--[--><!--]--> CAN bus <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="can-transport-and-network-layer" tabindex="-1"><a class="header-anchor" href="#can-transport-and-network-layer" aria-hidden="true">#</a> CAN Transport and Network Layer</h1><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>The CAN bus part of the ThingSet protocol is still in an early stage and may change in the future.</p></div><p>This specification defines layer 3 (Network) and 4 (Transport) of the ThingSet Protocol via CAN bus. Layer 1 and 2 are provided by the CAN bus itself.</p><h2 id="general-features" tabindex="-1"><a class="header-anchor" href="#general-features" aria-hidden="true">#</a> General features</h2><ul><li>Master-less operation</li><li>Automatic node ID assignment without central instance</li><li>Efficient useage of CAN ID and data bytes</li><li>Transport protocol to allow payload of more than 8 bytes</li><li>RTR frame is not allowed</li><li>Fixed bitrate of 500 kbit/s</li></ul><h3 id="can-identifier-layout" tabindex="-1"><a class="header-anchor" href="#can-identifier-layout" aria-hidden="true">#</a> CAN identifier layout</h3><p>In the CAN bus, the identifier part of the CAN frame is used for arbitration and identification of the message type. Typically, it does not define the sender or receiver of the message, but the content of the message.</p><p>For a network with connected ThingSet devices, the layout of the CAN identifier is similar to the SAE J1939 specification. Parts of the identifier define the source and destination address of the message. In addition to that, the first three bits are used to prioritize the messages.</p><p>The node address can be in the range of <code>0x00</code> to <code>0xFD</code> (253). Node addresses <code>0xFE</code> and <code>0xFF</code> are reserved for network management purposes (see below).</p><table><thead><tr><th>Bits</th><th style="text-align:center;">28 .. 26</th><th style="text-align:center;">25 .. 24</th><th style="text-align:center;">23 .. 16</th><th style="text-align:center;">15 .. 8</th><th style="text-align:center;">7 .. 0</th></tr></thead><tbody><tr><td></td><td style="text-align:center;">Priority</td><td style="text-align:center;">Type</td><td style="text-align:center;">Variable byte</td><td style="text-align:center;">Variable byte</td><td style="text-align:center;">Source address</td></tr></tbody></table><p>There are three different message types defined for ThingSet:</p><ul><li><code>0x0</code>: <a href="#request-response">Service message (request/response)</a></li><li><code>0x2</code>: <a href="#publish-subscribe">Publication message (publish/subscribe)</a></li><li><code>0x3</code>: <a href="#network-management">Network management message</a></li></ul><p>The variable bytes have a different meaning depending on the message type.</p><p>It may be possible to run ThingSet messages on the same bus with SAE J1939 (using type <code>0x0</code>) or NMEA2000 (using type <code>0x1</code>) if device addresses are chosen carefully. However, ThingSet is not meant to be compatible with mentioned protocols.</p><p>Only CAN extended IDs with a size of 29 bit are used, so it should be possible to use ThingSet together with protocols using standard IDs (e.g. CANopen) on the same bus.</p><h2 id="request-response" tabindex="-1"><a class="header-anchor" href="#request-response" aria-hidden="true">#</a> Request/response</h2><p>A service message can be identified by the type bits 25-24 both set to 0. A single byte each for source and destination node address are defined as part of the CAN ID to identify sender and receiver of the message.</p><p>A service message can be routed to different physical buses by a gateway. The bus number is also encoded as part of the CAN ID.</p><h3 id="can-identifier-layout-1" tabindex="-1"><a class="header-anchor" href="#can-identifier-layout-1" aria-hidden="true">#</a> CAN identifier layout</h3><p>The service message addressing in 29-bit CAN ID is similar to SAE J1939:</p><table><thead><tr><th>Bits</th><th style="text-align:center;">28 .. 26</th><th style="text-align:center;">25 .. 24</th><th style="text-align:center;">23 .. 16</th><th style="text-align:center;">15 .. 8</th><th style="text-align:center;">7 .. 0</th></tr></thead><tbody><tr><td></td><td style="text-align:center;">Priority: <code>0x6</code></td><td style="text-align:center;">Type: <code>0x0</code></td><td style="text-align:center;">Bus number</td><td style="text-align:center;">Target address</td><td style="text-align:center;">Source address</td></tr></tbody></table><ul><li>Priority (28-26): Defines the importance of the message. For service messages, only priority 6 is valid.</li><li>Type (25-24): 0x0 for request/response message</li><li>Bus number (23-16): Default for single bus systems is <code>0xDA</code> (218) as suggested by ISO-TP standard (ISO 15765-2) for normal fixed addressing with N_TAtype = physical</li><li>Target address (15-8): Destination node address (<code>0x00</code> to <code>0xFD</code>)</li><li>Source address (7-0): Source node address (<code>0x00</code> to <code>0xFD</code>)</li></ul><h3 id="transport-protocol-iso-15765-2" tabindex="-1"><a class="header-anchor" href="#transport-protocol-iso-15765-2" aria-hidden="true">#</a> Transport protocol (ISO 15765-2)</h3><p>In order to transfer data with a length of more than 8 bytes, the transfer protocol specified in <a href="https://en.wikipedia.org/wiki/ISO_15765-2" target="_blank" rel="noopener noreferrer">ISO 15765-2 (ISO-TP)<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> is used.</p><p>It allows a maximum number of 4095 data bytes (defined by 12 bit unsigned int length code in first frame). Flow control mechanisms ensure the reliability of data reception.</p><p>As a very important feature, ISO-TP allows the efficient transfer of single-frame messages with only one byte of overhead (and no flow control packets). This feature is necessary, as it is not known in advance if a certain function of the ThingSet protocol will transfer only a few bytes or a large amount of data.</p><p>The ISO-TP standard is not accessible for free. However, several open source implementations (including <a href="https://github.com/hartkopp/can-isotp" target="_blank" rel="noopener noreferrer">SocketCAN for Linux<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>) of the ISO-TP are available. Most important information about the frame layout can be found on <a href="https://en.wikipedia.org/wiki/ISO_15765-2" target="_blank" rel="noopener noreferrer">Wikipedia<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><h4 id="single-frame-message-request-response" tabindex="-1"><a class="header-anchor" href="#single-frame-message-request-response" aria-hidden="true">#</a> Single-frame message request/response</h4><p>Application protocol data of 7 bytes or lower can be transferred using a single CAN frame. The first byte of the CAN data contains the ISO-TP header for a single-frame message. Bytes 2 to n (with n &lt;= 7) are contained in the remaining data bytes of the CAN frame.</p><table><thead><tr><th>Byte 1</th><th>Byte 2</th><th>...</th><th>Byte 8</th></tr></thead><tbody><tr><td>ISO-TP header</td><td>Application protocol (byte 1)</td><td>...</td><td>Application protocol (byte 7)</td></tr></tbody></table><h4 id="multi-frame-message-request-response" tabindex="-1"><a class="header-anchor" href="#multi-frame-message-request-response" aria-hidden="true">#</a> Multi-frame message request/response</h4><p>More than 7 bytes of application protocol data are sent as multi-frame messages.</p><p>The first message contains two bytes for the ISO-TP header (including the total message length).</p><table><thead><tr><th>Byte 1</th><th>Byte 2</th><th>Byte 3</th><th>...</th><th>Byte 8</th></tr></thead><tbody><tr><td colspan="2">ISO-TP header</td><td>Application protocol (byte 1)</td><td>...</td><td>Application protocol (byte 6)</td></tr></tbody></table><p>Consecutive messages i = 2...585 consume only one byte for the ISO-TP header:</p><table><thead><tr><th>Byte 1</th><th>Byte 2</th><th>...</th><th>Byte 8</th></tr></thead><tbody><tr><td>ISO-TP header</td><td>Application protocol (byte (i-1)*7)</td><td>...</td><td>Application protocol (byte i*7-1)</td></tr></tbody></table><h3 id="remarks-regarding-existing-transport-protocols" tabindex="-1"><a class="header-anchor" href="#remarks-regarding-existing-transport-protocols" aria-hidden="true">#</a> Remarks regarding existing transport protocols</h3><p>Several other transport protocols for CAN have been defined in different standards.</p><p>For the J1939 protocol, the transport protocol is specified in the standard <strong>SAE J1939-21</strong>. Two types of transport protocol are defined: The Connection Mode Data Transfer (CMDT) and the Broadcast Announce Message (BAM). CMDT is used to exchange data between two nodes. It includes methods for flow control and handshake. BAM is more simple and broadcasts a multi-packet message to the bus without feedback if the message was received.</p><p>CMDT and BAM allow to transfer 9 to 1785 bytes (255 packets * 7 bytes) of payload. It is not allowed to transfer 0 to 8 bytes using the J1939 transport protocols. Thus, we need to know before if a message needs the mechanisms of the transport protocol or not. This is not possible for the flexible ThingSet protocol, as the same functions might transfer either very little data (e.g. write 16-bit integer) or a large amount of data (e.g. write multiple values or strings). Data with less than 9 bytes would have to be stuffed, making the protocol very inefficient. A message which could fit into a single CAN frame would need 5 frames (including flow control) when using CMDT and stuffing.</p><p>The <strong>RV-C</strong> standard defines a different transport protocol than SAE J1939, which also allows the transfer of up to 1785 bytes. However, is does not specify any flow control mechanisms at all. So it is not possible to determine if a message was received even for a communication between only two nodes, which is not acceptable.</p><p>NMEA 2000 uses the same transport protocol as the SAE J1939 protocol. In addition to that, it defines a so-called fast packet protocol. With <strong>NMEA 2000 fast packet protocol</strong>, 223 bytes can be transferred without flow control, thus, making it more efficient and &quot;fast&quot;.</p><p>With the fast packet protocol, a single frame transfer is possible. However, a single frame message consumes 2 out of 8 bytes for the fast packet header information. This is considered too high overhead if it is unknown whether a single or multi-frame message has to be used.</p><p>Overview of different CAN based transport protocols:</p><table><thead><tr><th></th><th style="text-align:center;">ISO-TP</th><th style="text-align:center;">NMEA 2000<br>fast packet</th><th style="text-align:center;">SAE J1939-21</th><th style="text-align:center;">RV-C</th></tr></thead><tbody><tr><td>Number of data bytes</td><td style="text-align:center;">0..4095</td><td style="text-align:center;">0..223</td><td style="text-align:center;">9..1785</td><td style="text-align:center;">9..1785</td></tr><tr><td>Flow control</td><td style="text-align:center;">yes</td><td style="text-align:center;">no</td><td style="text-align:center;">yes</td><td style="text-align:center;">no</td></tr><tr><td>Efficient single frame</td><td style="text-align:center;">yes</td><td style="text-align:center;">no</td><td style="text-align:center;">no</td><td style="text-align:center;">no</td></tr><tr><td>Open standard</td><td style="text-align:center;">no</td><td style="text-align:center;">no</td><td style="text-align:center;">no</td><td style="text-align:center;">yes</td></tr></tbody></table><h2 id="publish-subscribe" tabindex="-1"><a class="header-anchor" href="#publish-subscribe" aria-hidden="true">#</a> Publish/subscribe</h2><p>The publication message provides a very efficient way to send data in a regular interval using a single CAN frame without the overhead of a transport protocol. The publication messages are mainly intended for monitoring purposes. The first type bit is set to <code>1</code> (resulting in <code>0x2</code>).</p><h3 id="can-identifier-layout-2" tabindex="-1"><a class="header-anchor" href="#can-identifier-layout-2" aria-hidden="true">#</a> CAN identifier layout</h3><p>Publication messages are not sent to a single node, so the destination address does not need to be specified. Instead, the data object ID is specified directly in the CAN identifier to have more bytes available for payload in the data section of the CAN frame.</p><table><thead><tr><th>Bits</th><th style="text-align:center;">28 .. 26</th><th style="text-align:center;">25 .. 24</th><th style="text-align:center;">23 .. 16</th><th style="text-align:center;">15 .. 8</th><th style="text-align:center;">7 .. 0</th></tr></thead><tbody><tr><td></td><td style="text-align:center;">Priority</td><td style="text-align:center;">Type: <code>0x2</code></td><td style="text-align:center;">Data object ID (MSB)</td><td style="text-align:center;">Data object ID (LSB)</td><td style="text-align:center;">Source address</td></tr></tbody></table><ul><li>Priority (28-26): Defines the importance of the message. For publication messages, only 5 (high priority) and 7 (low priority) are valid.</li><li>Type (25-24): <code>0x2</code> for publication message</li><li>Data object ID (23-8): Data object ID as a 16-bit unsigned integer. The most significant byte is stored first (bits 23 to 16).</li><li>Source address (7-0): Source node address (<code>0x00</code> to <code>0xFD</code>)</li></ul><p>The data object ID is not encoded in the CBOR format, but as a raw 16-bit unsigned integer. The publication messages are limited to IDs that fit into 16 bits.</p><p>IDs &gt;= 0x8000 are fixed and reserved for control messages, so the CAN filter can be configured to distinguish between normal data ojbects and (high priority) control messages.</p><h3 id="can-data-format" tabindex="-1"><a class="header-anchor" href="#can-data-format" aria-hidden="true">#</a> CAN data format</h3><p>The data section of the CAN frame contains the CBOR-encoded value of the data object with the specified ID.</p><p>In order to acquire real-time measurement values, a 16-bit timestamp (unsigned int) can be appended to the CBOR-encoded value. The timestamp contains the 16 least significant bits of the microcontroller&#39;s system clock in milliseconds. It is a rolling counter and restarts at 0 after an overflow. The timestamp cannot be used to determine the absolute time of a measurement, but the time difference between subsequent measurements. This is important to obtain correct sampling of time-series data if higher priority messages cause a delay of the data delivery on the bus.</p><p>The maximum length of the value and the optional timestamp is defined by the maximum data section size of the CAN frame (8 bytes for classic CAN).</p><h2 id="network-management" tabindex="-1"><a class="header-anchor" href="#network-management" aria-hidden="true">#</a> Network management</h2><p>The network management is handled using dedicated CAN frames with type <code>0x3</code>. These frames are mainly used for automatic CAN address assignment.</p><p>The required features of the CAN address assignment are:</p><ul><li>No central instance to assign addresses (unlike for e.g. DHCP)</li><li>Nodes must re-claim their address: <ul><li>After start-up</li><li>After bus disconnects</li></ul></li><li>Avoid error frames as much as possible</li><li>Reduce bus traffic as much as possible</li><li>Have all addresses assigned within &lt;1s for &gt;99% of the use cases</li></ul><p>Critical scenarios for testing:</p><ul><li>All nodes (max. 253) on the same bus are powered up simultaneously.</li><li>A node is connected to an an already operating network (hot-plugging) and should not disturb operation.</li></ul><h3 id="description-of-the-approach" tabindex="-1"><a class="header-anchor" href="#description-of-the-approach" aria-hidden="true">#</a> Description of the approach</h3><p>The dynamic address assignment protocol requires two dedicated frames: The <strong>Address Discovery frame</strong> and the <strong>Address Claim frame</strong>.</p><p>Dynamic address assignment capability is mandatory for each node. The nodes may have a preferred default address (e.g. manually assigned during production or based on previous successful address claims) to speed up the network start-up, but they must be able to change the address to a random number if it is already taken by another node.</p><h4 id="address-discovery-frame" tabindex="-1"><a class="header-anchor" href="#address-discovery-frame" aria-hidden="true">#</a> Address Discovery frame</h4><p>This frame is used to find out if a desired address is already taken by another node on the bus. It is sent out immediately after start-up or after re-connection to the bus.</p><table><thead><tr><th>Bits</th><th style="text-align:center;">28 .. 26</th><th style="text-align:center;">25 .. 24</th><th style="text-align:center;">23 .. 16</th><th style="text-align:center;">15 .. 8</th><th style="text-align:center;">7 .. 0</th></tr></thead><tbody><tr><td></td><td style="text-align:center;">Priority: <code>0x4</code></td><td style="text-align:center;">Type: <code>0x3</code></td><td style="text-align:center;">Random data</td><td style="text-align:center;">Target address</td><td style="text-align:center;">Source address: <code>0xFE</code></td></tr></tbody></table><ul><li>Priority (28-26): <code>0x4</code> suggested for network management frames</li><li>Type (25-24): <code>0x3</code> for network management frames</li><li>Random data (23-16): Used to select between two nodes attempting to discover an address at the same time</li><li>Target address (15-8): Desired node address (<code>0x00</code> to <code>0xFD</code>)</li><li>Source address (7-0): <code>0xFE</code> for anonymous address</li><li>Payload: None (DLC set to 0)</li></ul><p>The target address is the desired address of the node. If this address is already taken, the node with that address must immediately respond with an Address Claim frame (see below).</p><p>The random number in the CAN ID provides a first level of protection against collision of different nodes wanting to claim the same address. If another node with higher priority random number tries to claim the same address at the same time it will win the arbitration on the bus. The message will be received and the node has to try again with another address.</p><h4 id="address-claim-frame" tabindex="-1"><a class="header-anchor" href="#address-claim-frame" aria-hidden="true">#</a> Address Claim frame</h4><p>This frame indicates that the device with the EUI-64 in the payload uses the given source address.</p><table><thead><tr><th>Bits</th><th style="text-align:center;">28 .. 26</th><th style="text-align:center;">25 .. 24</th><th style="text-align:center;">23 .. 16</th><th style="text-align:center;">15 .. 8</th><th style="text-align:center;">7 .. 0</th></tr></thead><tbody><tr><td></td><td style="text-align:center;">Priority: <code>0x4</code></td><td style="text-align:center;">Type: <code>0x3</code></td><td style="text-align:center;">Bus number</td><td style="text-align:center;">Target address: <code>0xFF</code></td><td style="text-align:center;">Source address</td></tr></tbody></table><ul><li>Priority (28-26): <code>0x4</code> suggested for network management frames</li><li>Type (25-24): <code>0x3</code> for network management frames</li><li>Bus number (23-16): same as for request/response messages</li><li>Target address (15-8): <code>0xFF</code> for broadcast without a specific recipient</li><li>Source address (7-0): Source node address being claimed (<code>0x00</code> to <code>0xFD</code>)</li><li>Payload: 8-byte EUI-64 of the node</li></ul><p>The EUI-64 in the payload is required to resolve potential conflicts (see below) and can be used by other devices to keep track of the devices connected to the bus.</p><h4 id="overview-of-address-assignment-process" tabindex="-1"><a class="header-anchor" href="#overview-of-address-assignment-process" aria-hidden="true">#</a> Overview of address assignment process</h4><p>The following steps are necessary after power-up of the node or after bus re-connection:</p><ol><li>The node determines its desired address (random or previously used, e.g. read from EEPROM) and adds a CAN filter for incoming frames for this address.</li><li>The node sends out an address discovery frame.</li><li>If no other node responded with an address claim frame within a given timeout (e.g. 500 ms, t.b.d.), the node assumes it can use the address. Otherwise it restarts from step 1 with a new random address.</li><li>The node sends out an address claim frame with its new address.</li></ol><p>The node should only send out any data (e.g. publication messages) after the address assignment process has successfully finished.</p><p>For the very unlikely case that two nodes chose the same address, generated the same random number in the address discovery frame and sent out the address claim frame at exactly the same time, the non-matching EUI-64 payload will result in an error frame on the bus, in which case both devices have to repeat the overall process with a new random address.</p><h3 id="considered-alternatives" tabindex="-1"><a class="header-anchor" href="#considered-alternatives" aria-hidden="true">#</a> Considered alternatives</h3><h4 id="dhcp" tabindex="-1"><a class="header-anchor" href="#dhcp" aria-hidden="true">#</a> DHCP</h4><p>Relies on a central instance to assign addresses, which is not desired for this application.</p><h4 id="sae-j1939" tabindex="-1"><a class="header-anchor" href="#sae-j1939" aria-hidden="true">#</a> SAE J1939</h4><p>Uses a similar address claiming mechanism as described above, but without the initial step of address discovery. This leads to a higher probability of error frames because of collisions.</p><p>Further reading: <a href="https://copperhilltech.com/blog/sae-j1939-address-claim-procedure-sae-j193981-network-management/" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> and <a href="https://copperhilltech.com/blog/sae-j1939-network-management-and-address-claim-procedure/" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h4 id="uavcan-opencyphal" tabindex="-1"><a class="header-anchor" href="#uavcan-opencyphal" aria-hidden="true">#</a> UAVCAN / OpenCyphal</h4><p>Rather complicated algorithm with special UAVCAN messages, which is not directly applicable.</p><p>Further reading: <a href="https://opencyphal.org/specification/Cyphal_Specification.pdf" target="_blank" rel="noopener noreferrer">Specification<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h4 id="_6locan" tabindex="-1"><a class="header-anchor" href="#_6locan" aria-hidden="true">#</a> 6LoCAN</h4><p>Uses similar mechanism with random data in the CAN ID to avoid error frames, but uses RTR frames, which are discouraged.</p><p>Further reading: <a href="https://datatracker.ietf.org/doc/html/draft-wachter-6lo-can-00#section-3" target="_blank" rel="noopener noreferrer">IETF draft<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h2 id="physical-layer" tabindex="-1"><a class="header-anchor" href="#physical-layer" aria-hidden="true">#</a> Physical layer</h2><h3 id="bit-rate" tabindex="-1"><a class="header-anchor" href="#bit-rate" aria-hidden="true">#</a> Bit rate</h3><p>ThingSet uses a fixed bit rate of 500 kbit/s, which supports a maximum bus length of 100 m according to CiA 301.</p><h3 id="connector" tabindex="-1"><a class="header-anchor" href="#connector" aria-hidden="true">#</a> Connector</h3><p>Standard RJ45 jacks as used for Ethernet are also used as the default for ThingSet via CAN. The cables should be Cat 5e twisted pair or better, allowing reliable communication with easily available parts.</p><p>The pinout of the connector is similar to the CANopen specification:</p><table><thead><tr><th>Pin #</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>CAN_H</td><td>CAN bus high signal</td></tr><tr><td>2</td><td>CAN_L</td><td>CAN bus low signal</td></tr><tr><td>3</td><td>GND</td><td>CAN and power supply GND (optional)</td></tr><tr><td>4</td><td>V+</td><td>Bus power supply (optional, 12-24V nominal)</td></tr><tr><td>5</td><td>V+</td><td>Bus power supply (optional, 12-24V nominal)</td></tr><tr><td>6</td><td>-</td><td>reserved (do not connect)</td></tr><tr><td>7</td><td>GND</td><td>CAN and power supply GND (optional)</td></tr><tr><td>8</td><td>(V+)</td><td>Unconnected by default, optional jumper to V+</td></tr></tbody></table><p>The pinout specification aims to create as little interference with existing standards as possible. Most important, any damage must be prevented if a device is accidentally connected to a standard Ethernet jack.</p><p>In contrast to the CANopen specification, pin 8 is not used as the bus power supply (V+) by default. 10/100 MBit Ethernet jacks with integrated magnetics (e.g. <a href="https://katalog.we-online.de/pbs/download/Tutorials_Connecting+LAN+Transformers_EN+%28rev1%29.pdf" target="_blank" rel="noopener noreferrer">these ones<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>) internally connect pin 4 to 5 and pin 7 to 8. In addition to that, Power over Ethernet (PoE) uses pins 4+5 for positive power rail and pins 7+8 for GND. So it&#39;s not ideal to use pin 7 as GND and pin 8 as V+. Boards can however offer a jumper to connect pin 8 with the other V+ pins (4 and 5) for bus supply of CANopen devices.</p><p>Galvanic isolation is not required, as long as all devices are connected via thick wires. This might change in the future.</p><p>One device typically has 2 RJ45 jacks for daisy-chaining the devices and maintaining the bus topology. There is no such thing like a switch needed. However, the endpoints have to be terminated with termination plugs or resistors.</p><p>A device that supplies power to V+ may not hard-connect the daisy-chained wires without any fuses in order to ensure that the current rating per wire is not exceeded. Devices without power supply may just route through the powered wires.</p><p>The maximum current per wire pair is 600 mA (300 mA per wire), same as PoE+ (IEEE 802.3at Type 2) with Cat 5e cables.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/ThingSet/thingset.github.io/edit/can-packetization-rework/docs/spec/v0.5/transp_can.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">2/10/2024, 8:15:40 PM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/branch/can-packetization-rework/spec/v0.5/transp_websocket.html" class="nav-link" aria-label="WebSocket"><!--[--><!--]--> WebSocket <!--[--><!--]--></a></span><span class="next"><a href="/branch/can-packetization-rework/spec/v0.5/transp_lorawan.html" class="nav-link" aria-label="LoRaWAN"><!--[--><!--]--> LoRaWAN <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><div class="footer"><span style="padding:5px;"><a href="https://github.com/ThingSet"><img src="/images/github-logo.svg" height="14"> GitHub</a></span> | <span style="padding:5px;">Developed by Libre Solar Technologies GmbH</span> | <span style="padding:5px;"><a href="/contact.html">Contact / Impressum</a></span></div><!--]--><!----><!--]--></div>
    <script src="/branch/can-packetization-rework/assets/js/runtime~app.21595170.js" defer></script><script src="/branch/can-packetization-rework/assets/js/9296.89757b8c.js" defer></script><script src="/branch/can-packetization-rework/assets/js/app.707d249a.js" defer></script>
  </body>
</html>
