<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"><link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="/favicons/favicon.ico"><meta name="msapplication-TileColor" content="#2b5797"><meta name="msapplication-config" content="/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><title>Text Mode | ThingSet</title><meta name="description" content="The Data Accessibility Framework"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.23">
    <link rel="preload" href="/branch/can-packetization-rework/assets/js/runtime~app.21595170.js" as="script"><link rel="preload" href="/branch/can-packetization-rework/assets/css/styles.a9ee4913.css" as="style"><link rel="preload" href="/branch/can-packetization-rework/assets/js/9296.89757b8c.js" as="script"><link rel="preload" href="/branch/can-packetization-rework/assets/js/app.707d249a.js" as="script">
    <link rel="stylesheet" href="/branch/can-packetization-rework/assets/css/styles.a9ee4913.css">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/branch/can-packetization-rework/" class=""><img class="logo" src="/branch/can-packetization-rework/images/thingset-logo.png" alt="ThingSet"><span class="site-name can-hide">ThingSet</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/node_library" class="nav-link" aria-label="Node Library"><!--[--><!--]--> Node Library <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/zephyr_sdk" class="nav-link" aria-label="SDK for Zephyr"><!--[--><!--]--> SDK for Zephyr <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/app" class="nav-link" aria-label="Mobile App"><!--[--><!--]--> Mobile App <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.6/introduction/abstract" class="nav-link" aria-label="v0.6"><!--[--><!--]--> v0.6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.5/introduction" class="nav-link" aria-label="v0.5"><!--[--><!--]--> v0.5 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.4/introduction" class="nav-link" aria-label="v0.4"><!--[--><!--]--> v0.4 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.3/1a_introduction" class="nav-link" aria-label="v0.3"><!--[--><!--]--> v0.3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.2/1a_introduction" class="nav-link" aria-label="v0.2"><!--[--><!--]--> v0.2 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.1/" class="nav-link" aria-label="v0.1"><!--[--><!--]--> v0.1 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/changelog" class="nav-link" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Software"><span class="title">Software</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/node_library" class="nav-link" aria-label="Node Library"><!--[--><!--]--> Node Library <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/zephyr_sdk" class="nav-link" aria-label="SDK for Zephyr"><!--[--><!--]--> SDK for Zephyr <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/software/app" class="nav-link" aria-label="Mobile App"><!--[--><!--]--> Mobile App <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Specification Menu"><span class="title">Specification</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.6/introduction/abstract" class="nav-link" aria-label="v0.6"><!--[--><!--]--> v0.6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.5/introduction" class="nav-link" aria-label="v0.5"><!--[--><!--]--> v0.5 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.4/introduction" class="nav-link" aria-label="v0.4"><!--[--><!--]--> v0.4 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.3/1a_introduction" class="nav-link" aria-label="v0.3"><!--[--><!--]--> v0.3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.2/1a_introduction" class="nav-link" aria-label="v0.2"><!--[--><!--]--> v0.2 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/v0.1/" class="nav-link" aria-label="v0.1"><!--[--><!--]--> v0.1 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/branch/can-packetization-rework/spec/changelog" class="nav-link" aria-label="Changelog"><!--[--><!--]--> Changelog <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Why ThingSet?</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/1a_introduction.html" class="nav-link sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/1b_existing_solutions.html" class="nav-link sidebar-item" aria-label="Existing Standards"><!--[--><!--]--> Existing Standards <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">Application Layer</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/2a_general.html" class="nav-link sidebar-item" aria-label="General Concept"><!--[--><!--]--> General Concept <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Text Mode"><!--[--><!--]--> Text Mode <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#requests" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Requests"><!--[--><!--]--> Requests <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#response" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Response"><!--[--><!--]--> Response <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#publication-message" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Publication message"><!--[--><!--]--> Publication message <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#read-data" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Read data"><!--[--><!--]--> Read data <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#update-data" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Update data"><!--[--><!--]--> Update data <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#create-data" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Create data"><!--[--><!--]--> Create data <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#delete-data" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Delete data"><!--[--><!--]--> Delete data <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#execute-function" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Execute function"><!--[--><!--]--> Execute function <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#authentication" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/branch/can-packetization-rework/spec/v0.3/2b_text_mode.html#publication-messages" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Publication messages"><!--[--><!--]--> Publication messages <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/2c_binary_mode.html" class="nav-link sidebar-item" aria-label="Binary Mode"><!--[--><!--]--> Binary Mode <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Lower Layers</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/3a_serial.html" class="nav-link sidebar-item" aria-label="Serial"><!--[--><!--]--> Serial <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/3b_can.html" class="nav-link sidebar-item" aria-label="CAN"><!--[--><!--]--> CAN <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/3c_lorawan.html" class="nav-link sidebar-item" aria-label="LoRaWAN"><!--[--><!--]--> LoRaWAN <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Protocol Mapping</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/4a_http.html" class="nav-link sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/4b_coap.html" class="nav-link sidebar-item" aria-label="CoAP"><!--[--><!--]--> CoAP <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/4c_mqtt.html" class="nav-link sidebar-item" aria-label="MQTT"><!--[--><!--]--> MQTT <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Tools</p><ul class=""><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/5a_serial.html" class="nav-link sidebar-item" aria-label="Serial"><!--[--><!--]--> Serial <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/branch/can-packetization-rework/spec/v0.3/5b_can.html" class="nav-link sidebar-item" aria-label="CAN bus"><!--[--><!--]--> CAN bus <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="text-mode" tabindex="-1"><a class="header-anchor" href="#text-mode" aria-hidden="true">#</a> Text Mode</h1><p>The following description of the ThingSet text mode grammar uses ABNF according to <a href="https://tools.ietf.org/html/rfc5234" target="_blank" rel="noopener noreferrer">RFC 5234<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><p>For rule names prefixed with <code>json-</code> consider the JSON specification in <a href="https://tools.ietf.org/html/rfc8259" target="_blank" rel="noopener noreferrer">RFC 8259<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>. In context of the ThingSet protocol, JSON data must be in the most compact form, i.e. not contain any unnecessary whitespaces or line breaks.</p><h3 id="requests" tabindex="-1"><a class="header-anchor" href="#requests" aria-hidden="true">#</a> Requests</h3><p>Each request message consists of a first character as the request method identifier, a path specifying the endpoint of the request and a JSON string for the payload data (if applicable).</p><pre><code>txt-request = txt-get / txt-fetch / txt-patch / txt-create / txt-delete / txt-exec

txt-get    = &quot;?&quot; path [ &quot;/&quot; ]                   ; CoAP equivalent: GET request

txt-fetch  = &quot;?&quot; path &quot; &quot; json-array            ; CoAP equivalent: FETCH request

txt-patch  = &quot;=&quot; path &quot; &quot; json-object           ; CoAP equivalent: iPATCH request

txt-create = &quot;+&quot; path &quot; &quot; json-value            ; CoAP equivalent: POST request

txt-delete = &quot;-&quot; path &quot; &quot; json-value            ; CoAP equivalent: DELETE request

txt-exec   = &quot;!&quot; path [ &quot; &quot; json-value ]        ; CoAP equivalent: POST request

path = node-name [ &quot;/&quot; node-name ]

node-name = ALPHA / DIGIT / &quot;_&quot; / &quot;-&quot; / &quot;.&quot;     ; compatible to URIs (RFC 3986)
</code></pre><p>The path to access a specific node is a JSON pointer (<a href="https://tools.ietf.org/html/rfc6901" target="_blank" rel="noopener noreferrer">RFC 6901<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>) without the forward slash at the beginning. The useable characters for node names are further restricted to allow un-escaped usage in URLs.</p><h3 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> Response</h3><p>The response starts with a colon &#39;:&#39; followed by the the status code and a plain text description of the status finished with a &#39;.&#39;. The description is not strictly specified and can be according to the table in the <a href="/branch/can-packetization-rework/spec/v0.3/2a_general.html" class="">General Concept chapter</a> or a more verbose message. However, it must contain only one dot at the end of the description, signifying the end of the description.</p><p>The bytes after the dot contain the requested data.</p><pre><code>txt-response = &quot;:&quot; status [ &quot; &quot; json-value ]    ; response code and data

status = status-code [ &quot; &quot; status-msg ] &quot;.&quot;

status-code = 2( hex )

status-msg  = *( ALPHA / SP )

hex = DIGIT / %x41-46                           ; upper-case HEXDIG
</code></pre><h3 id="publication-message" tabindex="-1"><a class="header-anchor" href="#publication-message" aria-hidden="true">#</a> Publication message</h3><p>The publication message is very simple and consists of a hash sign and a whitespace at the beginning, followed by a map of data node name/value pairs.</p><pre><code>txt-pubmsg = &quot;# &quot; json-map                      ; publication message
</code></pre><h2 id="read-data" tabindex="-1"><a class="header-anchor" href="#read-data" aria-hidden="true">#</a> Read data</h2><p>The GET function allows to read all child nodes of the specified path. If a forward slash is appended at the end of the path, only an array with the child node names is returned. Otherwise all content below that path (names and values) is returned.</p><p>The FETCH function allows to retrieve only subset of the child nodes, defined by an array with the node names passed to the function.</p><p>Only those data nodes are returned which are at least readable. Thus, the result might differ after authentication.</p><p><strong>Example 1:</strong> Discover all child nodes of the root node (i.e. categories)</p><pre><code>?/
:85 Content. [&quot;info&quot;,&quot;conf&quot;,&quot;input&quot;,&quot;output&quot;,&quot;rec&quot;,&quot;exec&quot;,&quot;pub&quot;]
</code></pre><p><strong>Example 2:</strong> Retrieve all content of output path (keys + values)</p><pre><code>?output
:85 Content. {&quot;Bat_V&quot;:14.2,&quot;Bat_A&quot;:5.13,&quot;Ambient_degC&quot;:22}
</code></pre><p><strong>Example 3:</strong> List all sub-nodes of output path as an array</p><pre><code>?output/
:85 Content. [&quot;Bat_V&quot;,&quot;Bat_A&quot;,&quot;Ambient_degC&quot;]
</code></pre><p><strong>Example 4:</strong> Retrieve single data node &quot;Bat_V&quot;</p><pre><code>?output [&quot;Bat_V&quot;]
:85 Content. [14.2]
</code></pre><h2 id="update-data" tabindex="-1"><a class="header-anchor" href="#update-data" aria-hidden="true">#</a> Update data</h2><p>Requests to overwrite the value of a data node.</p><p>Data of category conf will be written into persistent memory, so it is not allowed to change settings periodically. Only data of category input can be changed regularly.</p><p><strong>Example 1:</strong> Disable charging</p><pre><code>=input {&quot;EnableCharging&quot;:false}
:84 Changed.
</code></pre><p><strong>Example 2:</strong> Attempt to write read-only measurement values (output category)</p><pre><code>=output {&quot;Bat_V&quot;:15.2,&quot;Ambient_degC&quot;:22}
:A3 Forbiden.
</code></pre><h2 id="create-data" tabindex="-1"><a class="header-anchor" href="#create-data" aria-hidden="true">#</a> Create data</h2><p>Appends new data to a data node.</p><p><strong>Example 1:</strong> Add &quot;Bat_V&quot; to the serial publication channel</p><pre><code>+pub/serial/ids &quot;Bat_V&quot;
:81 Created.
</code></pre><h2 id="delete-data" tabindex="-1"><a class="header-anchor" href="#delete-data" aria-hidden="true">#</a> Delete data</h2><p>Removes data from a node of array type.</p><p><strong>Example 1:</strong> Remove &quot;Bat_V&quot; from &quot;serial&quot; publication channel</p><pre><code>-pub/serial/ids &quot;Bat_V&quot;
:82 Deleted.
</code></pre><h2 id="execute-function" tabindex="-1"><a class="header-anchor" href="#execute-function" aria-hidden="true">#</a> Execute function</h2><p>Executes a function identified by a data object name of category &quot;exec&quot;</p><p><strong>Example 1:</strong> Reset the device</p><pre><code>!exec/reset
:83 Valid.
</code></pre><h2 id="authentication" tabindex="-1"><a class="header-anchor" href="#authentication" aria-hidden="true">#</a> Authentication</h2><p>Some of the device parameters like calibration or config settings should be protected against unauthorized change. A simple authentication method is suggested where multiple user levels can be implemented in the firmware using different passwords. The manufacturer would use a different one to authenticate than a normal user and thus get more rights to access data objects.</p><p>The password is transferred as a plain text string. Encryption has to be provided by lower layers.</p><p>Internally, the authentication function is implemented as a data node of exec type.</p><pre><code>!auth &quot;mypass&quot;
:83 Valid.
</code></pre><p>After successful authentication, the device exposes restricted data nodes via the normal data access requests. The authentication stays valid until another auth command is received, either without password or with a password that doesn&#39;t match.</p><h2 id="publication-messages" tabindex="-1"><a class="header-anchor" href="#publication-messages" aria-hidden="true">#</a> Publication messages</h2><p>The pub node is used to configure the device to publish certain data on a regular basis through a defined communication channel (UART, CAN, LoRa, etc.). If implemented in the firmware, the publication interval may be adjustable.</p><p><strong>Example 1:</strong> List all available publication channels</p><pre><code>?pub/
:85 Content. [&quot;serial&quot;,&quot;can&quot;]
</code></pre><p><strong>Example 2:</strong> Enable &quot;serial&quot; publication channel</p><pre><code>=pub/serial {&quot;Enable&quot;:true}
:84 Changed.
</code></pre><p>With this setting, the following message is automatically sent by the device once per second:</p><pre><code># {&quot;Bat_V&quot;:14.1,&quot;Bat_A&quot;:5.13}
</code></pre><p>Publication messages are broadcast to all connected devices. No response is sent from devices receiving the message.</p><p>The data nodes to be published via one channel (e.g. serial) can be configured using POST and DELETE requests to the pub/serial/IDs endpoint, as shown in the examples above.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/ThingSet/thingset.github.io/edit/can-packetization-rework/docs/spec/v0.3/2b_text_mode.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">2/10/2024, 8:15:40 PM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/branch/can-packetization-rework/spec/v0.3/2a_general.html" class="nav-link" aria-label="General Concept"><!--[--><!--]--> General Concept <!--[--><!--]--></a></span><span class="next"><a href="/branch/can-packetization-rework/spec/v0.3/2c_binary_mode.html" class="nav-link" aria-label="Binary Mode"><!--[--><!--]--> Binary Mode <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><div class="footer"><span style="padding:5px;"><a href="https://github.com/ThingSet"><img src="/images/github-logo.svg" height="14"> GitHub</a></span> | <span style="padding:5px;">Developed by Libre Solar Technologies GmbH</span> | <span style="padding:5px;"><a href="/contact.html">Contact / Impressum</a></span></div><!--]--><!----><!--]--></div>
    <script src="/branch/can-packetization-rework/assets/js/runtime~app.21595170.js" defer></script><script src="/branch/can-packetization-rework/assets/js/9296.89757b8c.js" defer></script><script src="/branch/can-packetization-rework/assets/js/app.707d249a.js" defer></script>
  </body>
</html>
