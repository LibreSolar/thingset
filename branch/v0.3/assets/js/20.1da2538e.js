(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{357:function(t,e,a){"use strict";a.r(e);var o=a(33),i=Object(o.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"thingset-to-mqtt-mapping"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#thingset-to-mqtt-mapping"}},[t._v("#")]),t._v(" ThingSet to MQTT mapping")]),t._v(" "),a("p",[t._v("The MQTT protocol doesn't support the request/response part of the ThingSet protocol, but the publish/subscribe messaging pattern can be easily mapped.")]),t._v(" "),a("h2",{attrs:{id:"publication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publication"}},[t._v("#")]),t._v(" Publication")]),t._v(" "),a("p",[t._v("The topic used to publish to the MQTT server may contain the path of the data nodes.")]),t._v(" "),a("p",[t._v("It is possible to publish a single measurement value to a single topic or publish multiple child nodes of a path to the same MQTT topic. The selected approach depends on the application. For the ThingSet protocol less configuration nodes are needed if multiple data nodes are gathered under one MQTT topic.")]),t._v(" "),a("p",[t._v("It is recommended that only the JSON or CBOR payload data is stored in the MQTT payload and the path of the ThingSet endpoint is contained in the topic.")]),t._v(" "),a("h2",{attrs:{id:"subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subscription"}},[t._v("#")]),t._v(" Subscription")]),t._v(" "),a("p",[t._v("Content fetched from a specific topic is forwarded to the ThingSet protocol as a publication message (containing the topic or parts of it). If the ThingSet device has the subscription to the specified topic enabled, it will parse the incoming data similar to a PATCH request. Unknown data nodes contained in the subscribed payload are silently ignored.")]),t._v(" "),a("p",[t._v("If the application requires some processing of incoming data before applying them to actual nodes, temporary data nodes can be created where the subscribed content is written to. Afterwards a function is called (assigned as a callback to the sub channel node) to process the incoming data and pass it on to the actual nodes.")]),t._v(" "),a("p",[t._v("This approach can also be used to determine if the received data has changed compared to already existing state and avoid too many storage operations in EEPROM for regularly published messages.")])])}),[],!1,null,null,null);e.default=i.exports}}]);