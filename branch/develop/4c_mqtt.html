<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MQTT | ThingSet Protocol Specification</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="apple-touch-icon" sizes="180x180" href="/thingset/branch/develop/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/thingset/branch/develop/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/thingset/branch/develop/favicons/favicon-16x16.png">
    <link rel="manifest" href="/thingset/branch/develop/favicons/site.webmanifest">
    <link rel="mask-icon" href="/thingset/branch/develop/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/thingset/branch/develop/favicons/favicon.ico">
    <meta name="description" content="The ThingSet protocol provides a consistent, standardized way to configure, monitor and control ressource-constrained devices via different communication interfaces like Serial, LoRa, USB, Bluetooth or CAN.">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/thingset/branch/develop/assets/css/0.styles.32b83a2c.css" as="style"><link rel="preload" href="/thingset/branch/develop/assets/js/app.dd5299a9.js" as="script"><link rel="preload" href="/thingset/branch/develop/assets/js/2.f2708eff.js" as="script"><link rel="preload" href="/thingset/branch/develop/assets/js/3.13f489f1.js" as="script"><link rel="preload" href="/thingset/branch/develop/assets/js/20.1da2538e.js" as="script"><link rel="prefetch" href="/thingset/branch/develop/assets/js/10.915ff560.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/11.dae0e5a3.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/12.0554aa46.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/13.33e26227.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/14.a450a7a5.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/15.0b7e21bd.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/16.8b9966f6.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/17.205deb93.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/18.e073e85c.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/19.f53f9684.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/21.681d2cac.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/22.dcc20910.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/23.b35cdc9f.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/24.3f39481e.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/25.5a098a54.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/26.b1fafc17.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/27.68a8085c.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/28.d0c806db.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/4.56c6f835.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/5.8a67c5b8.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/6.a7d05319.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/7.b3286659.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/8.7f13d3f3.js"><link rel="prefetch" href="/thingset/branch/develop/assets/js/9.3133ce9e.js">
    <link rel="stylesheet" href="/thingset/branch/develop/assets/css/0.styles.32b83a2c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/thingset/branch/develop/" class="home-link router-link-active"><img src="/thingset/branch/develop/favicons/apple-touch-icon.png" alt="ThingSet Protocol Specification" class="logo"> <span class="site-name">ThingSet Protocol Specification</span></a> <div class="links"><div class="search-box can-hide"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="History Menu" class="dropdown-title"><span class="title">History</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thingset/branch/develop/" class="nav-link">
  develop
</a></li><li class="dropdown-item"><!----> <a href="/thingset/branch/develop/v0.2/" class="nav-link">
  v0.2
</a></li><li class="dropdown-item"><!----> <a href="/thingset/branch/develop/v0.1/" class="nav-link">
  v0.1
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="History Menu" class="dropdown-title"><span class="title">History</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thingset/branch/develop/" class="nav-link">
  develop
</a></li><li class="dropdown-item"><!----> <a href="/thingset/branch/develop/v0.2/" class="nav-link">
  v0.2
</a></li><li class="dropdown-item"><!----> <a href="/thingset/branch/develop/v0.1/" class="nav-link">
  v0.1
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Why ThingSet?</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/thingset/branch/develop/" class="sidebar-link">Introduction</a></li><li><a href="/thingset/branch/develop/1b_existing_solutions.html" class="sidebar-link">Existing Standards</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Application Layer</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/thingset/branch/develop/2a_general.html" class="sidebar-link">General Concept</a></li><li><a href="/thingset/branch/develop/2b_text_mode.html" class="sidebar-link">Text Mode</a></li><li><a href="/thingset/branch/develop/2c_binary_mode.html" class="sidebar-link">Binary Mode</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Lower Layers</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/thingset/branch/develop/3a_serial.html" class="sidebar-link">Serial</a></li><li><a href="/thingset/branch/develop/3b_can.html" class="sidebar-link">CAN</a></li><li><a href="/thingset/branch/develop/3c_lora.html" class="sidebar-link">LoRa</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Protocol Mapping</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/thingset/branch/develop/4a_http.html" class="sidebar-link">HTTP</a></li><li><a href="/thingset/branch/develop/4b_coap.html" class="sidebar-link">CoAP</a></li><li><a href="/thingset/branch/develop/4c_mqtt.html" class="active sidebar-link">MQTT</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/thingset/branch/develop/4c_mqtt.html#publication" class="sidebar-link">Publication</a></li><li class="sidebar-sub-header"><a href="/thingset/branch/develop/4c_mqtt.html#subscription" class="sidebar-link">Subscription</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="thingset-to-mqtt-mapping"><a href="#thingset-to-mqtt-mapping" class="header-anchor">#</a> ThingSet to MQTT mapping</h1> <p>The MQTT protocol doesn't support the request/response part of the ThingSet protocol, but the publish/subscribe messaging pattern can be easily mapped.</p> <h2 id="publication"><a href="#publication" class="header-anchor">#</a> Publication</h2> <p>The topic used to publish to the MQTT server may contain the path of the data nodes.</p> <p>It is possible to publish a single measurement value to a single topic or publish multiple child nodes of a path to the same MQTT topic. The selected approach depends on the application. For the ThingSet protocol less configuration nodes are needed if multiple data nodes are gathered under one MQTT topic.</p> <p>It is recommended that only the JSON or CBOR payload data is stored in the MQTT payload and the path of the ThingSet endpoint is contained in the topic.</p> <h2 id="subscription"><a href="#subscription" class="header-anchor">#</a> Subscription</h2> <p>Content fetched from a specific topic is forwarded to the ThingSet protocol as a publication message (containing the topic or parts of it). If the ThingSet device has the subscription to the specified topic enabled, it will parse the incoming data similar to a PATCH request. Unknown data nodes contained in the subscribed payload are silently ignored.</p> <p>If the application requires some processing of incoming data before applying them to actual nodes, temporary data nodes can be created where the subscribed content is written to. Afterwards a function is called (assigned as a callback to the sub channel node) to process the incoming data and pass it on to the actual nodes.</p> <p>This approach can also be used to determine if the received data has changed compared to already existing state and avoid too many storage operations in EEPROM for regularly published messages.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/20/2020, 6:04:34 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/thingset/branch/develop/4b_coap.html" class="prev">
        CoAP
      </a></span> <!----></p></div>  <div class="footer">
    Content provided by <a href="https://libre.solar">Libre Solar</a> under <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">CC-BY-SA 4.0 License</a> | <a href="https://libre.solar/about/contact/">Contact / Impressum</a></div></main></div><div class="global-ui"></div></div>
    <script src="/thingset/branch/develop/assets/js/app.dd5299a9.js" defer></script><script src="/thingset/branch/develop/assets/js/2.f2708eff.js" defer></script><script src="/thingset/branch/develop/assets/js/3.13f489f1.js" defer></script><script src="/thingset/branch/develop/assets/js/20.1da2538e.js" defer></script>
  </body>
</html>
